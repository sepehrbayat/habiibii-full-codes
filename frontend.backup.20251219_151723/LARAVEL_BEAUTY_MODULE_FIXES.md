# ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù… Ø¯Ø± Laravel - Ù…Ø§Ú˜ÙˆÙ„ Ø²ÛŒØ¨Ø§ÛŒÛŒ

**Ù…Ø³ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡:** `/home/sepehr/Projects/6ammart-laravel/`

## ğŸ“‹ Ø®Ù„Ø§ØµÙ‡

Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø´Ø§Ù…Ù„ ØªÙ…Ø§Ù… ØªØºÛŒÛŒØ±Ø§Øª Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ÛŒ Ù„Ø§Ø²Ù… Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Laravel Ø¨Ø±Ø§ÛŒ Ù…Ø§Ú˜ÙˆÙ„ Ø²ÛŒØ¨Ø§ÛŒÛŒ Ø§Ø³Øª. ØªÙ…Ø§Ù… ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…Ø³ÛŒØ± `Modules/BeautyBooking/` Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯.

---

## ğŸ”— ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ React Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ú†Ú© Ø´ÙˆÙ†Ø¯

Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± LaravelØŒ Ø§ÛŒÙ† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ø§ Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ React Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ ØªØ§ Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ response format Ùˆ API structure Ø¨Ø§ frontend Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ø§Ø³Øª:

### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ API Ø¯Ø± React:
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/another-formated-api/beautyApi.js` - Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú†Ù‡ API calls Ø§Ù†ØªØ¸Ø§Ø± Ù…ÛŒâ€ŒØ±ÙˆØ¯
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/ApiRoutes.js` - Ø¨Ø±Ø±Ø³ÛŒ route definitions

### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Hooks Ø¯Ø± React:
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetSalons.js` - Ø¨Ø±Ø±Ø³ÛŒ expected response format
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetBookings.js` - Ø¨Ø±Ø±Ø³ÛŒ pagination format (offset vs page)
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useCreateBooking.js` - Ø¨Ø±Ø±Ø³ÛŒ request format
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetPackages.js` - Ø¨Ø±Ø±Ø³ÛŒ response structure
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetGiftCards.js` - Ø¨Ø±Ø±Ø³ÛŒ response structure
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetLoyaltyPoints.js` - Ø¨Ø±Ø±Ø³ÛŒ response structure
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetConsultations.js` - Ø¨Ø±Ø±Ø³ÛŒ request parameters
- [ ] `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetRetailProducts.js` - Ø¨Ø±Ø±Ø³ÛŒ request parameters

### Ù†Ú©Ø§Øª Ù…Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ:
1. **Pagination Format:** React Ø§Ø² `offset` Ùˆ `limit` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Laravel Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ† Ø±Ø§ Ø¨Ù‡ `page` ØªØ¨Ø¯ÛŒÙ„ Ú©Ù†Ø¯.
2. **Response Structure:** Ù‡Ù…Ù‡ responses Ø¨Ø§ÛŒØ¯ Ø´Ø§Ù…Ù„ `{ message: string, data: any }` Ø¨Ø§Ø´Ù†Ø¯.
3. **Error Format:** Ù‡Ù…Ù‡ errors Ø¨Ø§ÛŒØ¯ Ø´Ø§Ù…Ù„ `{ errors: [{ code: string, message: string }] }` Ø¨Ø§Ø´Ù†Ø¯.
4. **File Uploads:** Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ React Ú†Ú¯ÙˆÙ†Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (FormData).
5. **Date Format:** Ø¨Ø±Ø±Ø³ÛŒ format ØªØ§Ø±ÛŒØ® Ú©Ù‡ React Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (YYYY-MM-DD).

---

## 1. Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯ Response Format Consistency

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø®ÛŒ Ø§Ø² endpointÙ‡Ø§ Ù…Ù…Ú©Ù† Ø§Ø³Øª response format Ù…ØªÙØ§ÙˆØªÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯. Ø¨Ø§ÛŒØ¯ Ù‡Ù…Ù‡ endpointÙ‡Ø§ Ø§Ø² `BeautyApiResponse` trait Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù†Ø¯ Ùˆ response format ÛŒÚ©Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.

### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø¨Ø±Ø±Ø³ÛŒ:

#### 1.1. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautySalonController.php`
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ React Ø¨Ø±Ø§ÛŒ Ú†Ú©:**
- `/home/sepehr/Projects/6ammart-react/src/api-manage/another-formated-api/beautyApi.js` - Ù…ØªØ¯Ù‡Ø§ÛŒ `searchSalons`, `getSalonDetails`, `getPopularSalons`, `getTopRatedSalons`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetSalons.js` - Ø¨Ø±Ø±Ø³ÛŒ expected response format

**ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `BeautyApiResponse` trait
- [ ] Ø¨Ø±Ø±Ø³ÛŒ consistency Ø¯Ø± response methods (`successResponse`, `listResponse`, `simpleListResponse`)
- [ ] Ø¨Ø±Ø±Ø³ÛŒ pagination format (Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² offset ÛŒØ§ page) - **Ù…Ù‡Ù…:** React Ø§Ø² offset Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ù‡Ù…Ù‡ responses Ø´Ø§Ù…Ù„ `message` Ùˆ `data` Ù‡Ø³ØªÙ†Ø¯

**Ù…Ø«Ø§Ù„:**
```php
// Ø¨Ø§ÛŒØ¯ Ù‡Ù…Ù‡ responses Ø¨Ù‡ Ø§ÛŒÙ† Ø´Ú©Ù„ Ø¨Ø§Ø´Ù†Ø¯:
return $this->successResponse('messages.data_retrieved_successfully', $data);
// ÛŒØ§
return $this->listResponse($paginatedData, 'messages.data_retrieved_successfully');
```

#### 1.2. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyBookingController.php`
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ React Ø¨Ø±Ø§ÛŒ Ú†Ú©:**
- `/home/sepehr/Projects/6ammart-react/src/api-manage/another-formated-api/beautyApi.js` - Ù…ØªØ¯Ù‡Ø§ÛŒ `createBooking`, `getBookings`, `cancelBooking`, `checkAvailability`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useCreateBooking.js` - Ø¨Ø±Ø±Ø³ÛŒ request format
- `/home/sepehr/Projects/6ammart-react/src/components/home/module-wise-components/beauty/components/BookingForm.js` - Ø¨Ø±Ø±Ø³ÛŒ fields Ø§Ø±Ø³Ø§Ù„ÛŒ

**ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ consistency Ø¯Ø± response format
- [ ] Ø¨Ø±Ø±Ø³ÛŒ error responses
- [ ] Ø¨Ø±Ø±Ø³ÛŒ payment redirect responses
- [ ] Ø¨Ø±Ø±Ø³ÛŒ request validation - **Ù…Ù‡Ù…:** Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ date format `YYYY-MM-DD` Ùˆ time format `H:i` Ø§Ø³Øª

#### 1.3. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyPackageController.php`
**ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response format Ø¯Ø± `index()`, `show()`, `purchase()`
- [ ] Ø¨Ø±Ø±Ø³ÛŒ error handling

#### 1.4. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyGiftCardController.php`
**ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response format
- [ ] Ø¨Ø±Ø±Ø³ÛŒ error messages

#### 1.5. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyLoyaltyController.php`
**ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response format
- [ ] Ø¨Ø±Ø±Ø³ÛŒ reward structure Ø¯Ø± redeem response

#### 1.6. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyConsultationController.php`
**ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response format Ø¯Ø± `list()`, `book()`, `checkAvailability()`
- [ ] Ø¨Ø±Ø±Ø³ÛŒ validation errors

#### 1.7. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyRetailController.php`
**ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response format Ø¯Ø± `listProducts()`, `createOrder()`
- [ ] Ø¨Ø±Ø±Ø³ÛŒ payment processing responses

#### 1.8. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyReviewController.php`
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ React Ø¨Ø±Ø§ÛŒ Ú†Ú©:**
- `/home/sepehr/Projects/6ammart-react/src/api-manage/another-formated-api/beautyApi.js` - Ù…ØªØ¯ `submitReview`
- `/home/sepehr/Projects/6ammart-react/src/components/home/module-wise-components/beauty/components/ReviewForm.js` - Ø¨Ø±Ø±Ø³ÛŒ file upload format (Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯)

**ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response format
- [ ] Ø¨Ø±Ø±Ø³ÛŒ file upload handling - **Ù…Ù‡Ù…:** React Ø§Ø² FormData Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- [ ] Ø¨Ø±Ø±Ø³ÛŒ attachment URLs Ø¯Ø± response - Ø¨Ø§ÛŒØ¯ full URL Ø¨Ø§Ø´Ø¯
- [ ] Ø¨Ø±Ø±Ø³ÛŒ validation Ø¨Ø±Ø§ÛŒ attachments (file types, size limits)

---

## 2. Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯ Validation

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ consistency Ø¯Ø± validation rules Ùˆ error messages.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 2.1. Ø¨Ø±Ø±Ø³ÛŒ ØªÙ…Ø§Ù… Validation Rules
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- ØªÙ…Ø§Ù… Controller methods Ú©Ù‡ `Validator::make()` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ù‡Ù…Ù‡ validation rules Ù…Ù†Ø§Ø³Ø¨ Ù‡Ø³ØªÙ†Ø¯
- [ ] Ø¨Ø±Ø±Ø³ÛŒ custom validation messages
- [ ] Ø¨Ø±Ø±Ø³ÛŒ translation keys

#### 2.2. Ø¨Ø±Ø±Ø³ÛŒ Error Messages
**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `translate()` Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ error messages
- [ ] Ø¨Ø±Ø±Ø³ÛŒ consistency Ø¯Ø± error codes
- [ ] Ø¨Ø±Ø±Ø³ÛŒ error message format

**Ù…Ø«Ø§Ù„:**
```php
// Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ø§ÛŒÙ† Ø´Ú©Ù„ Ø¨Ø§Ø´Ø¯:
return $this->errorResponse([
    ['code' => 'validation', 'message' => translate('messages.field_required')],
]);
```

---

## 3. Ø¨Ù‡Ø¨ÙˆØ¯ API Documentation

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø®ÛŒ docblocks Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù†Ø§Ù‚Øµ Ø¨Ø§Ø´Ù†Ø¯.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 3.1. Ø¨Ø±Ø±Ø³ÛŒ Docblocks
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- ØªÙ…Ø§Ù… Controller methods

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ `@param` Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ parameters
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ `@return` Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ methods
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† `@queryParam` ÛŒØ§ `@bodyParam` Ø¨Ø±Ø§ÛŒ API documentation
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† `@response` examples

**Ù…Ø«Ø§Ù„:**
```php
/**
 * Get salon details
 * 
 * @param int $id Salon ID
 * @return JsonResponse
 * 
 * @response 200 {
 *   "message": "Data retrieved successfully",
 *   "data": {
 *     "id": 1,
 *     "name": "Salon Name",
 *     ...
 *   }
 * }
 */
```

---

## 4. Ø¨Ø±Ø±Ø³ÛŒ Pagination Format

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ consistency Ø¯Ø± pagination (Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² offset ÛŒØ§ page).

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 4.1. Ø¨Ø±Ø±Ø³ÛŒ Pagination Ø¯Ø± ØªÙ…Ø§Ù… Controllers
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ React Ø¨Ø±Ø§ÛŒ Ú†Ú©:**
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetBookings.js` - Ø¨Ø±Ø±Ø³ÛŒ pagination params
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetUserReviews.js` - Ø¨Ø±Ø±Ø³ÛŒ pagination format

**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- `BeautyBookingController.php` - `index()`
- `BeautyReviewController.php` - `index()`, `getSalonReviews()`
- `BeautyGiftCardController.php` - `index()`
- `BeautyConsultationController.php` - `list()`
- `BeautyRetailController.php` - `listProducts()`

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ù‡Ù…Ù‡ Ø§Ø² offset Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ (Ù…Ø·Ø§Ø¨Ù‚ Ø¨Ø§ React) - **Ù…Ù‡Ù…:** React Ø§Ø² `offset` Ùˆ `limit` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- [ ] Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ page number Ø§Ø² offset
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ pagination metadata Ø´Ø§Ù…Ù„ `total`, `per_page`, `current_page` Ø§Ø³Øª
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response structure - Ø¨Ø§ÛŒØ¯ Ø´Ø§Ù…Ù„ `data`, `total`, `per_page`, `current_page`, `last_page` Ø¨Ø§Ø´Ø¯

**Ù…Ø«Ø§Ù„:**
```php
$page = $offset > 0 ? max(1, (int)floor($offset / $limit) + 1) : 1;
$paginatedData = $query->paginate($limit, ['*'], 'page', $page);
```

---

## 5. Ø¨Ø±Ø±Ø³ÛŒ Caching Strategy

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ caching Ø¯Ø± endpointÙ‡Ø§ÛŒ Ù…Ù†Ø§Ø³Ø¨.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 5.1. Ø¨Ø±Ø±Ø³ÛŒ Caching Ø¯Ø± Controllers
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- `BeautySalonController.php` - `search()`, `popular()`, `topRated()`
- `BeautyCategoryController.php` - `list()`

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ TTL values (Ø¨Ø§ÛŒØ¯ Ø§Ø² config Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯)
- [ ] Ø¨Ø±Ø±Ø³ÛŒ cache keys (Ø¨Ø§ÛŒØ¯ unique Ø¨Ø§Ø´Ù†Ø¯)
- [ ] Ø¨Ø±Ø±Ø³ÛŒ cache invalidation strategy

**Ù…Ø«Ø§Ù„:**
```php
$ttl = config('beautybooking.cache.search_ttl', 300);
$cacheKey = 'beauty_search_' . md5(json_encode($params));
$data = Cache::remember($cacheKey, $ttl, function() { ... });
```

---

## 6. Ø¨Ø±Ø±Ø³ÛŒ Performance

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ N+1 queries Ùˆ eager loading.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 6.1. Ø¨Ø±Ø±Ø³ÛŒ Eager Loading
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- ØªÙ…Ø§Ù… Controllers Ú©Ù‡ relationships Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `with()` Ø¨Ø±Ø§ÛŒ relationships
- [ ] Ø¨Ø±Ø±Ø³ÛŒ N+1 query problems
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† eager loading Ø¯Ø± Ø¬Ø§ÛŒÛŒ Ú©Ù‡ Ù„Ø§Ø²Ù… Ø§Ø³Øª

**Ù…Ø«Ø§Ù„:**
```php
$salons = $this->salon->with(['store', 'badges', 'services'])
    ->where('status', 1)
    ->get();
```

#### 6.2. Ø¨Ø±Ø±Ø³ÛŒ Database Indexes
**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ indexes Ø¨Ø±Ø§ÛŒ foreign keys
- [ ] Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ indexes Ø¨Ø±Ø§ÛŒ frequently queried columns
- [ ] Ø¨Ø±Ø±Ø³ÛŒ composite indexes

---

## 7. Ø¨Ø±Ø±Ø³ÛŒ Security

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ authorization Ùˆ input validation.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 7.1. Ø¨Ø±Ø±Ø³ÛŒ Authorization
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- ØªÙ…Ø§Ù… Controllers Ú©Ù‡ user-specific data Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ù†Ø¯

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ user ÙÙ‚Ø· Ø¨Ù‡ data Ø®ÙˆØ¯Ø´ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±Ø¯
- [ ] Ø¨Ø±Ø±Ø³ÛŒ `authorizeBookingOwnership()` Ø¯Ø± BookingController
- [ ] Ø¨Ø±Ø±Ø³ÛŒ authorization checks Ø¯Ø± Ù‡Ù…Ù‡ methods

#### 7.2. Ø¨Ø±Ø±Ø³ÛŒ Input Sanitization
**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ SQL injection prevention
- [ ] Ø¨Ø±Ø±Ø³ÛŒ XSS prevention
- [ ] Ø¨Ø±Ø±Ø³ÛŒ file upload security

---

## 8. Ø¨Ø±Ø±Ø³ÛŒ Error Handling

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ consistency Ø¯Ø± error handling.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 8.1. Ø¨Ø±Ø±Ø³ÛŒ Try-Catch Blocks
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- ØªÙ…Ø§Ù… Controllers

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ try-catch Ø¯Ø± operations Ù…Ù‡Ù…
- [ ] Ø¨Ø±Ø±Ø³ÛŒ error logging
- [ ] Ø¨Ø±Ø±Ø³ÛŒ error response format

**Ù…Ø«Ø§Ù„:**
```php
try {
    // operation
} catch (\Exception $e) {
    \Log::error('Operation failed', [
        'error' => $e->getMessage(),
        'trace' => $e->getTraceAsString(),
    ]);
    return $this->errorResponse([
        ['code' => 'operation', 'message' => translate('messages.operation_failed')],
    ], 500);
}
```

---

## 9. Ø¨Ø±Ø±Ø³ÛŒ Translation Keys

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ translation keys Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ messages.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 9.1. Ø¨Ø±Ø±Ø³ÛŒ Translation Files
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- `Modules/BeautyBooking/Resources/lang/en/`
- `Modules/BeautyBooking/Resources/lang/fa/`

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ù‡Ù…Ù‡ translation keys
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² consistency Ø¯Ø± naming
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† translation keys Ù†Ø§Ù‚Øµ

---

## 10. Ø¨Ø±Ø±Ø³ÛŒ Database Transactions

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² transactions Ø¯Ø± operations Ù…Ù‡Ù….

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 10.1. Ø¨Ø±Ø±Ø³ÛŒ Transactions
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- `BeautyBookingController.php` - `store()`, `cancel()`
- `BeautyPackageController.php` - `purchase()`
- `BeautyGiftCardController.php` - `purchase()`, `redeem()`
- `BeautyLoyaltyController.php` - `redeem()`
- `BeautyRetailController.php` - `createOrder()`

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `DB::transaction()` Ø¯Ø± operations Ù…Ù‡Ù…
- [ ] Ø¨Ø±Ø±Ø³ÛŒ rollback Ø¯Ø± case of errors
- [ ] Ø¨Ø±Ø±Ø³ÛŒ commit Ø¯Ø± success cases

---

## 11. Ø¨Ø±Ø±Ø³ÛŒ File Upload Handling

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ consistency Ø¯Ø± file upload handling.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 11.1. Ø¨Ø±Ø±Ø³ÛŒ File Uploads
**ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:**
- `BeautyReviewController.php` - `store()` (attachments)

**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ file validation
- [ ] Ø¨Ø±Ø±Ø³ÛŒ file size limits
- [ ] Ø¨Ø±Ø±Ø³ÛŒ file type validation
- [ ] Ø¨Ø±Ø±Ø³ÛŒ storage path

---

## 12. Ø¨Ø±Ø±Ø³ÛŒ Response Structure Ø¨Ø±Ø§ÛŒ Frontend

### Ù…Ø´Ú©Ù„:
Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ response structure Ø¨Ø§ Ù†ÛŒØ§Ø²Ù‡Ø§ÛŒ React Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ø§Ø³Øª.

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:

#### 12.1. Ø¨Ø±Ø±Ø³ÛŒ Response Structure
**ØªØºÛŒÛŒØ±Ø§Øª:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ù‡Ù…Ù‡ list responses Ø´Ø§Ù…Ù„ `data` array Ù‡Ø³ØªÙ†Ø¯
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ pagination metadata Ø´Ø§Ù…Ù„ `total`, `per_page`, `current_page` Ø§Ø³Øª
- [ ] Ø¨Ø±Ø±Ø³ÛŒ nested data structure (Ù…Ø«Ù„ `salon.store.name`)

---

## 13. Checklist Ø¨Ø±Ø§ÛŒ Ù‡Ø± Controller

Ø¨Ø±Ø§ÛŒ Ù‡Ø± Controller Ø²ÛŒØ±ØŒ Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯:

### BeautySalonController
- [ ] Response format consistency
- [ ] Caching strategy
- [ ] Eager loading
- [ ] Error handling
- [ ] Documentation

### BeautyBookingController
- [ ] Response format consistency
- [ ] Transaction usage
- [ ] Authorization checks
- [ ] Payment handling
- [ ] Error handling
- [ ] Documentation

### BeautyPackageController
- [ ] Response format consistency
- [ ] Transaction usage
- [ ] Payment handling
- [ ] Error handling
- [ ] Documentation

### BeautyGiftCardController
- [ ] Response format consistency
- [ ] Transaction usage
- [ ] Code generation uniqueness
- [ ] Error handling
- [ ] Documentation

### BeautyLoyaltyController
- [ ] Response format consistency
- [ ] Transaction usage
- [ ] Reward calculation
- [ ] Error handling
- [ ] Documentation

### BeautyConsultationController
- [ ] Response format consistency
- [ ] Validation
- [ ] Error handling
- [ ] Documentation

### BeautyRetailController
- [ ] Response format consistency
- [ ] Transaction usage
- [ ] Stock validation
- [ ] Payment handling
- [ ] Error handling
- [ ] Documentation

### BeautyReviewController
- [ ] Response format consistency
- [ ] File upload handling
- [ ] Authorization checks
- [ ] Error handling
- [ ] Documentation

### BeautyCategoryController
- [ ] Response format consistency
- [ ] Caching strategy
- [ ] Error handling
- [ ] Documentation

---

## 14. ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ

### 14.1. `Modules/BeautyBooking/Traits/BeautyApiResponse.php`
**Ø¨Ø±Ø±Ø³ÛŒ:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ù‡Ù…Ù‡ methods Ø¯Ø±Ø³Øª Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response structure
- [ ] Ø¨Ø±Ø±Ø³ÛŒ error response format

### 14.2. `Modules/BeautyBooking/Routes/api/v1/customer/api.php`
**Ø¨Ø±Ø±Ø³ÛŒ:**
- [ ] Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ù‡Ù…Ù‡ routes Ø¯Ø±Ø³Øª register Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯
- [ ] Ø¨Ø±Ø±Ø³ÛŒ middleware assignments
- [ ] Ø¨Ø±Ø±Ø³ÛŒ rate limiting

### 14.3. `Modules/BeautyBooking/Config/config.php`
**Ø¨Ø±Ø±Ø³ÛŒ:**
- [ ] Ø¨Ø±Ø±Ø³ÛŒ cache TTL values
- [ ] Ø¨Ø±Ø±Ø³ÛŒ default settings
- [ ] Ø¨Ø±Ø±Ø³ÛŒ feature flags

---

## 15. ØªØ³Øª Ùˆ Validation

### ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù…:
- [ ] Ø§Ø¬Ø±Ø§ÛŒ unit tests
- [ ] Ø§Ø¬Ø±Ø§ÛŒ integration tests
- [ ] ØªØ³Øª manual ØªÙ…Ø§Ù… endpointÙ‡Ø§
- [ ] Ø¨Ø±Ø±Ø³ÛŒ response times
- [ ] Ø¨Ø±Ø±Ø³ÛŒ memory usage

---

## ğŸ“ Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø±Ø§ÛŒ Cursor AI

Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¨Ø®Ø´:
1. ÙØ§ÛŒÙ„ Ù…Ø±Ø¨ÙˆØ·Ù‡ Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯
2. Ú©Ø¯ Ù…ÙˆØ¬ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯
3. ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù… Ø±Ø§ Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†ÛŒØ¯
4. Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ú©Ø¯ Ù‚Ø¨Ù„ÛŒ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯
5. ØªØ³Øª Ú©Ù†ÛŒØ¯

**Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…:** Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø¹Ù…Ø§Ù„ ØªØºÛŒÛŒØ±Ø§ØªØŒ Ø§Ø² Ú©Ø¯ ÙØ¹Ù„ÛŒ backup Ø¨Ú¯ÛŒØ±ÛŒØ¯.

---

## ğŸ” ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ

1. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautySalonController.php`
2. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyBookingController.php`
3. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyPackageController.php`
4. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyGiftCardController.php`
5. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyLoyaltyController.php`
6. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyConsultationController.php`
7. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyRetailController.php`
8. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyReviewController.php`
9. `Modules/BeautyBooking/Http/Controllers/Api/Customer/BeautyCategoryController.php`
10. `Modules/BeautyBooking/Traits/BeautyApiResponse.php`
11. `Modules/BeautyBooking/Routes/api/v1/customer/api.php`
12. `Modules/BeautyBooking/Config/config.php`

---

## ğŸ“š Ù…Ø±Ø¬Ø¹ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ React Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ

### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ API:
- `/home/sepehr/Projects/6ammart-react/src/api-manage/another-formated-api/beautyApi.js` - ØªÙ…Ø§Ù… API calls
- `/home/sepehr/Projects/6ammart-react/src/api-manage/ApiRoutes.js` - route definitions

### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Hooks:
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetSalons.js`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetBookings.js`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useCreateBooking.js`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetPackages.js`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetGiftCards.js`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetLoyaltyPoints.js`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetConsultations.js`
- `/home/sepehr/Projects/6ammart-react/src/api-manage/hooks/react-query/beauty/useGetRetailProducts.js`

### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª (Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ request format):
- `/home/sepehr/Projects/6ammart-react/src/components/home/module-wise-components/beauty/components/BookingForm.js`
- `/home/sepehr/Projects/6ammart-react/src/components/home/module-wise-components/beauty/components/ReviewForm.js` (Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯)

### Ù†Ú©Ø§Øª Ù…Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ:
1. **Request Format:** Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ú©Ù‡ React Ú†Ù‡ format Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
2. **Response Format:** Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Laravel Ù‡Ù…Ø§Ù† format Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯
3. **Error Handling:** Ø¨Ø±Ø±Ø³ÛŒ error response format
4. **Pagination:** React Ø§Ø² `offset` Ùˆ `limit` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

